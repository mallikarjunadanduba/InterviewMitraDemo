import{i as X,f as Y,j as e,r as c,U as Z,B as z,d as k,a as A,b as E}from"./index-So8Y0uMi.js";import{l as J}from"./index-BAM7yg0D.js";import{h as ee,E as te}from"./jspdf.es.min-B70WBIfo.js";import{d as ie}from"./PictureAsPdf-C0nQwztV.js";import{d as ne}from"./ArrowBack-DHtGtEh1.js";import{u as L}from"./useSecureImage-Cur6bIho.js";var W={},oe=X;Object.defineProperty(W,"__esModule",{value:!0});var U=W.default=void 0,se=oe(Y()),re=e;U=W.default=(0,se.default)((0,re.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print");const ge=()=>{var R;const[s,_]=c.useState(null),[$,P]=c.useState(!0),[D,F]=c.useState(""),[q,M]=c.useState(""),B=c.useRef(),O=Z(),i=JSON.parse(sessionStorage.getItem("user")),T=sessionStorage.getItem("jobseekerProfileId"),w={"Content-Type":"application/json",Authorization:"Bearer "+(i==null?void 0:i.accessToken)};L(D,i==null?void 0:i.accessToken);const N=L(q,i==null?void 0:i.accessToken);c.useEffect(()=>{(async()=>{try{const o=await A.get(`${E}/jobseekerprofile/v1/getDigitalJobSeekerProfileById/${T}`,{headers:w});_(o.data);const v=parseInt(i==null?void 0:i.seekerId),n=await A.get(`${E}/jobseekerprofile/v1/getJobSeekerProfileByJobSeekerId/${v}`,{headers:w});n.data&&(n.data.jobseekerProfilePicPath&&M(n.data.jobseekerProfilePicPath),n.data.jobseekerProfileCoverPicPath&&F(n.data.jobseekerProfileCoverPicPath)),P(!1)}catch(o){console.error("Error fetching resume data:",o),P(!1)}})()},[T,i==null?void 0:i.seekerId]);const G=J.useReactToPrint({content:()=>B.current,pageStyle:`
            @page {
                size: A4;
                margin: 15mm;
            }
            @media print {
                body {
                    -webkit-print-color-adjust: exact;
                    print-color-adjust: exact;
                    margin: 0;
                    padding: 0;
                }
                .resume-container {
                    box-shadow: none;
                    border-radius: 0;
                    max-width: none;
                    margin: 0;
                    padding: 0;
                }
                .section {
                    page-break-inside: avoid;
                    break-inside: avoid;
                }
                header {
                    page-break-after: avoid;
                    break-after: avoid;
                }
                h2 {
                    page-break-after: avoid;
                    break-after: avoid;
                }
                /* Ensure proper page breaks */
                .page-break {
                    page-break-before: always;
                    break-before: page;
                }
                /* Remove browser-added headers/footers */
                @page {
                    margin: 15mm;
                    size: A4;
                }
            }
        `,documentTitle:`${(s==null?void 0:s.jobseekerProfileName)||"Resume"}`}),K=()=>{const t=B.current;ee(t,{scale:2,logging:!1,useCORS:!0}).then(o=>{const v=o.toDataURL("image/png"),n=new te("p","mm","a4"),S=210,H=295,b=o.height*S/o.width;let u=b,I=0;for(n.addImage(v,"PNG",0,I,S,b),u-=H;u>=0;)I=u-b,n.addPage(),n.addImage(v,"PNG",0,I,S,b),u-=H;n.save(`${(s==null?void 0:s.jobseekerProfileName)||"resume"}.pdf`)})};if($)return e.jsx("div",{children:"Loading resume..."});if(!s)return e.jsx("div",{children:"No data found."});const{jobseekerProfileName:p,email:Q,mobileNumber:V,description:C,digitalCurrentEmploymentDto:r,digitalExperienceDto:g,digitalEducationDto:h,digitalJobSeekerSkillDto:a,digitalJobSeekerProfileProjectDto:f,digitalJobSeekerProfileCertificateDto:l,digitalJobSeekerLanguageDto:m,digitalJobSeekerCourseDto:x,digitalSocialmediaDto:j,digitalAwardDto:d}=s,y=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"Present";return e.jsxs(z,{sx:{p:3},children:[e.jsxs(z,{sx:{mb:2,display:"flex",justifyContent:"space-between"},children:[e.jsx(k,{variant:"outlined",startIcon:e.jsx(ne,{}),onClick:()=>O(-1),children:"Back"}),e.jsxs(z,{sx:{display:"flex",gap:2},children:[e.jsx(k,{variant:"contained",startIcon:e.jsx(U,{}),onClick:G,children:"Print Resume"}),e.jsx(k,{variant:"contained",color:"secondary",startIcon:e.jsx(ie,{}),onClick:K,children:"Download PDF"})]})]}),e.jsxs("div",{ref:B,style:{padding:"0",fontFamily:"'Calibri', 'Arial', sans-serif",maxWidth:"210mm",margin:"0 auto",backgroundColor:"white",color:"#333",lineHeight:"1.4",fontSize:"11pt",minHeight:"297mm"},className:"resume-container",children:[e.jsx("header",{style:{background:"#2c3e50",color:"white",padding:"20mm 15mm",pageBreakAfter:"avoid"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15mm"},children:[e.jsx("div",{style:{width:"35mm",height:"35mm",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:N?e.jsx("img",{src:N,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{fontSize:"18pt",fontWeight:"bold",color:"#2c3e50"},children:((R=p==null?void 0:p.charAt(0))==null?void 0:R.toUpperCase())||"U"})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h1",{style:{margin:"0 0 5mm 0",fontSize:"24pt",fontWeight:"bold",letterSpacing:"0.5pt"},children:p}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2mm"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3mm",fontSize:"11pt"},children:[e.jsx("span",{style:{width:"15mm",fontWeight:"bold"},children:"Email:"}),e.jsx("span",{children:Q})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3mm",fontSize:"11pt"},children:[e.jsx("span",{style:{width:"15mm",fontWeight:"bold"},children:"Phone:"}),e.jsx("span",{children:V})]})]})]})]})}),e.jsxs("main",{style:{padding:"15mm"},children:[C&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Professional Summary"}),e.jsx("p",{style:{margin:"4mm 0 0 0",fontSize:"11pt",lineHeight:"1.4",color:"#333",textAlign:"justify"},children:C})]}),r&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Current Employment"}),e.jsxs("div",{style:{marginTop:"4mm"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"3mm"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 1mm 0",fontSize:"12pt",fontWeight:"bold",color:"#2c3e50"},children:r.jobTitle}),e.jsx("p",{style:{margin:"0",fontSize:"11pt",color:"#666",fontWeight:"bold"},children:r.companyName})]}),e.jsx("div",{style:{background:"#2c3e50",color:"white",padding:"1mm 3mm",fontSize:"9pt",fontWeight:"bold"},children:"Current"})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8mm",marginBottom:"3mm"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"10pt",color:"#666",fontWeight:"bold"},children:"Skills:"}),e.jsx("span",{style:{fontSize:"11pt",marginLeft:"2mm"},children:r.skill})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"10pt",color:"#666",fontWeight:"bold"},children:"Notice Period:"}),e.jsx("span",{style:{fontSize:"11pt",marginLeft:"2mm"},children:r.noticePeriod})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"10pt",color:"#666",fontWeight:"bold"},children:"CTC:"}),e.jsxs("span",{style:{fontSize:"11pt",marginLeft:"2mm"},children:[r.currentctc," LPA"]})]})]}),r.jobDescription&&e.jsx("div",{children:e.jsx("p",{style:{margin:"0",fontSize:"11pt",color:"#333",lineHeight:"1.4",textAlign:"justify"},children:r.jobDescription})})]})]}),(g==null?void 0:g.length)>0&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Professional Experience"}),e.jsx("div",{style:{marginTop:"4mm"},children:g.map((t,o)=>e.jsxs("div",{style:{marginBottom:"6mm",pageBreakInside:"avoid"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"2mm"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 1mm 0",fontSize:"12pt",fontWeight:"bold",color:"#2c3e50"},children:t.designation}),e.jsx("p",{style:{margin:"0",fontSize:"11pt",color:"#666",fontWeight:"bold"},children:t.companyName})]}),e.jsxs("div",{style:{fontSize:"10pt",color:"#666",fontWeight:"bold"},children:[y(t.fromDate)," - ",y(t.toDate)]})]}),t.description&&e.jsx("p",{style:{margin:"0",fontSize:"11pt",color:"#333",lineHeight:"1.4",textAlign:"justify"},children:t.description})]},t.experienceId))})]}),(h==null?void 0:h.length)>0&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Education"}),e.jsx("div",{style:{marginTop:"4mm"},children:h.map(t=>e.jsxs("div",{style:{marginBottom:"4mm",pageBreakInside:"avoid"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1mm"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 1mm 0",fontSize:"12pt",fontWeight:"bold",color:"#2c3e50"},children:t.educationName}),e.jsx("p",{style:{margin:"0",fontSize:"11pt",color:"#666",fontWeight:"bold"},children:t.instituteName})]}),e.jsxs("div",{style:{fontSize:"10pt",color:"#666",fontWeight:"bold"},children:[y(t.fromDate)," - ",y(t.toDate)]})]}),e.jsxs("p",{style:{margin:"0",fontSize:"11pt",color:"#333"},children:[e.jsx("strong",{children:"Score:"})," ",t.percentage,"%"]})]},t.educationId))})]}),((a==null?void 0:a.length)>0||(m==null?void 0:m.length)>0)&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Skills & Languages"}),e.jsx("div",{style:{marginTop:"4mm"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8mm",alignItems:"start"},children:[(a==null?void 0:a.length)>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{color:"#2c3e50",fontSize:"12pt",fontWeight:"bold",margin:"0 0 3mm 0",textTransform:"uppercase",letterSpacing:"0.5pt",borderBottom:"1pt solid #2c3e50",paddingBottom:"1mm"},children:"Technical Skills"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"2mm"},children:a.map(t=>e.jsx("span",{style:{background:"#2c3e50",color:"white",padding:"1mm 3mm",fontSize:"10pt",fontWeight:"bold",marginBottom:"1mm"},children:t.skillName},t.skillId))})]}),(m==null?void 0:m.length)>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{color:"#2c3e50",fontSize:"12pt",fontWeight:"bold",margin:"0 0 3mm 0",textTransform:"uppercase",letterSpacing:"0.5pt",borderBottom:"1pt solid #2c3e50",paddingBottom:"1mm"},children:"Languages"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"2mm"},children:m.map(t=>e.jsx("span",{style:{background:"#f5f5f5",padding:"1mm 3mm",fontSize:"10pt",fontWeight:"bold",marginBottom:"1mm"},children:t.languageName},t.languageId))})]})]})})]}),(f==null?void 0:f.length)>0&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Projects"}),e.jsx("div",{style:{marginTop:"4mm"},children:f.map(t=>e.jsxs("div",{style:{marginBottom:"4mm",pageBreakInside:"avoid"},children:[e.jsx("h3",{style:{margin:"0 0 1mm 0",fontSize:"12pt",fontWeight:"bold",color:"#2c3e50"},children:t.projectName}),t.projectUrl&&e.jsxs("p",{style:{margin:"0 0 2mm 0",fontSize:"10pt"},children:[e.jsx("strong",{children:"Link:"})," ",t.projectUrl]}),e.jsx("p",{style:{margin:"0",fontSize:"11pt",color:"#333",lineHeight:"1.4",textAlign:"justify"},children:t.description})]},t.projectId))})]}),((l==null?void 0:l.length)>0||(d==null?void 0:d.length)>0)&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Certifications & Awards"}),e.jsx("div",{style:{marginTop:"4mm"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8mm",alignItems:"start"},children:[(l==null?void 0:l.length)>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{color:"#2c3e50",fontSize:"12pt",fontWeight:"bold",margin:"0 0 3mm 0",textTransform:"uppercase",letterSpacing:"0.5pt",borderBottom:"1pt solid #2c3e50",paddingBottom:"1mm"},children:"Certifications"}),l.map(t=>e.jsx("div",{style:{marginBottom:"2mm",pageBreakInside:"avoid"},children:e.jsx("p",{style:{margin:"0",fontSize:"11pt",fontWeight:"bold",color:"#2c3e50"},children:t.certificateName})},t.certificateId))]}),(d==null?void 0:d.length)>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{color:"#2c3e50",fontSize:"12pt",fontWeight:"bold",margin:"0 0 3mm 0",textTransform:"uppercase",letterSpacing:"0.5pt",borderBottom:"1pt solid #2c3e50",paddingBottom:"1mm"},children:"Awards & Achievements"}),d.map(t=>e.jsx("div",{style:{marginBottom:"2mm",pageBreakInside:"avoid"},children:e.jsx("p",{style:{margin:"0",fontSize:"11pt",fontWeight:"bold",color:"#2c3e50"},children:t.awardName})},t.awardId))]})]})})]}),(x==null?void 0:x.length)>0&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Courses"}),e.jsx("div",{style:{marginTop:"4mm"},children:x.map(t=>e.jsxs("div",{style:{marginBottom:"3mm",pageBreakInside:"avoid"},children:[e.jsx("h3",{style:{margin:"0 0 1mm 0",fontSize:"12pt",fontWeight:"bold",color:"#2c3e50"},children:t.courseName}),e.jsx("p",{style:{margin:"0",fontSize:"11pt",color:"#333",lineHeight:"1.4"},children:t.description})]},t.courseId))})]}),(j==null?void 0:j.length)>0&&e.jsxs("section",{className:"section",style:{marginBottom:"8mm",pageBreakInside:"avoid"},children:[e.jsx("h2",{style:{color:"#2c3e50",fontSize:"14pt",fontWeight:"bold",margin:"0 0 4mm 0",textTransform:"uppercase",letterSpacing:"1pt",borderBottom:"2pt solid #2c3e50",paddingBottom:"2mm"},children:"Social Media"}),e.jsx("div",{style:{marginTop:"4mm"},children:j.map(t=>e.jsxs("div",{style:{marginBottom:"2mm",fontSize:"11pt"},children:[e.jsxs("strong",{style:{display:"inline-block",width:"25mm",color:"#666"},children:[t.socialmediaName,":"]}),e.jsx("span",{style:{color:"#333"},children:t.socialmediaLink})]},t.socialmediaId))})]})]})]})]})};export{ge as default};
