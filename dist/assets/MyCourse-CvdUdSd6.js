import{A as H,r as n,U as X,u as q,C as K,j as e,M as D,B as t,T as r,d,V as R,W as _,X as A,Y as v,E as u,G as a,Z as ee,L as P,H as C,J as re}from"./index-So8Y0uMi.js";import{Y as U,P as te,A as se,a as oe,S as ae}from"./YouTubePlayer-ACU90hP3.js";import{g as ie,a as ne}from"./MyCourseApi-rra_8jT7.js";import{f as le}from"./UpskillsCategoryApi-rKE8Ju7y.js";import{C as N}from"./CircularProgress-BC4NDxhn.js";import{A as B}from"./Alert-BEz85bAA.js";import{S as E}from"./School-BOvyNQHe.js";import{C as de}from"./CheckCircle-Bt0pafdu.js";import{S as ce}from"./Star-CGdS_xL7.js";import{I as xe}from"./IconCalendar-BKGdsbQF.js";import{D as T,a as F}from"./DialogTitle-B--fWyEw.js";import{D as O}from"./DialogContent-DL4WmUXz.js";import{D as M}from"./DialogActions-Bk10_EIe.js";var he=H("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),ge=H("eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);const ze=()=>{const[f,Y]=n.useState([]),[L,b]=n.useState(!0),[S,m]=n.useState(null),[c,j]=n.useState({open:!1,videoUrl:"",title:""}),[o,x]=n.useState({open:!1,order:null,loading:!1}),[h,g]=n.useState({open:!1,message:"",severity:"success"}),G=X(),V=q();K(V.breakpoints.down("sm"));const p=JSON.parse(sessionStorage.getItem("user")),y={"Content-type":"application/json",Authorization:"Bearer "+p.accessToken},w=async()=>{try{b(!0),m(null);const Z=(await ie(y,p.seekerId)).data.filter(i=>i.paymentStatus==="SUCCESS").map(async i=>{try{return{...(await le(y,i.course.courseId)).data,orderDetails:i,purchaseDate:i.createdAt}}catch(z){return console.error(`Error fetching course ${i.course.courseId}:`,z),null}}),Q=(await Promise.all(Z)).filter(i=>i!==null);Y(Q)}catch(s){console.error("Error fetching my courses:",s),m("Failed to load your courses. Please try again.")}finally{b(!1)}};n.useEffect(()=>{p&&p.seekerId?w():(m("User not found. Please login again."),b(!1))},[]);const $=s=>{s.videoUrl?j({open:!0,videoUrl:s.videoUrl,title:`Course Video: ${s.courseName}`}):g({open:!0,message:"No video available for this course",severity:"warning"})},J=async s=>{try{x({open:!0,order:null,loading:!0});const W=(await ne(y,s.orderDetails.orderId)).data;x({open:!0,order:W,loading:!1})}catch(l){console.error("Error fetching order details:",l),x({open:!0,order:null,loading:!1}),g({open:!0,message:"Failed to fetch order details",severity:"error"})}},k=s=>{switch(s){case"SUCCESS":return"success";case"PENDING":return"warning";case"FAILED":return"error";default:return"default"}},I=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return L?e.jsx(D,{children:e.jsxs(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:[e.jsx(N,{}),e.jsx(r,{variant:"h6",sx:{ml:2},children:"Loading your courses..."})]})}):S?e.jsxs(D,{children:[e.jsx(B,{severity:"error",sx:{mb:2},children:S}),e.jsx(d,{variant:"contained",onClick:w,children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{sx:{position:"relative",minHeight:"250px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
                            radial-gradient(circle at 20% 80%, rgba(102, 126, 234, 0.3) 0%, transparent 50%),
                            radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.3) 0%, transparent 50%),
                            radial-gradient(circle at 40% 40%, rgba(240, 147, 251, 0.2) 0%, transparent 50%)
                        `,animation:"float 20s ease-in-out infinite"}},children:e.jsx(R,{maxWidth:"lg",sx:{position:"relative",zIndex:2,height:"250px",display:"flex",alignItems:"center"},children:e.jsx(_,{in:!0,timeout:1200,children:e.jsxs(t,{sx:{textAlign:"center",color:"white",width:"100%"},children:[e.jsxs(t,{sx:{position:"relative",display:"inline-block",mb:1},children:[e.jsx(t,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:60,height:60,borderRadius:"50%",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"2px solid rgba(255,255,255,0.2)",animation:"pulse 2s ease-in-out infinite"}}),e.jsx(A,{sx:{width:45,height:45,background:"rgba(255,255,255,0.15)",backdropFilter:"blur(20px)",border:"2px solid rgba(255,255,255,0.3)",boxShadow:"0 4px 15px rgba(102,126,234,0.3)"},children:e.jsx(E,{sx:{fontSize:24,color:"white"}})})]}),e.jsx(r,{variant:"h3",sx:{fontWeight:800,mb:.5,fontSize:{xs:"1.5rem",md:"2rem"},background:"linear-gradient(45deg, #ffffff, #f0f8ff, #ffffff)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 4px 8px rgba(0,0,0,0.1)",letterSpacing:"-0.02em"},children:"My Courses"}),e.jsx(r,{variant:"body1",sx:{opacity:.95,fontWeight:400,maxWidth:"500px",mx:"auto",mb:2,fontSize:{xs:"0.9rem",md:"1rem"},lineHeight:1.5},children:"Continue your learning journey with your purchased courses"}),e.jsxs(v,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",sx:{mt:2},children:[e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h5",sx:{fontWeight:700,mb:.5,color:"#ffd700",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:f.length}),e.jsx(r,{variant:"caption",sx:{opacity:.8,color:"#333333"},children:"Courses Purchased"})]}),e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h5",sx:{fontWeight:700,mb:.5,color:"#00d4aa",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"100%"}),e.jsx(r,{variant:"caption",sx:{opacity:.8,color:"#333333"},children:"Completion Rate"})]}),e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h5",sx:{fontWeight:700,mb:.5,color:"#ff6b9d",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"24/7"}),e.jsx(r,{variant:"caption",sx:{opacity:.6,color:"#333333"},children:"Access Available"})]})]})]})})})}),e.jsx(R,{maxWidth:"lg",sx:{py:2},children:f.length===0?e.jsx(u,{sx:{borderRadius:4,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",background:"linear-gradient(145deg, #ffffff 0%, #fafbfc 100%)",border:"1px solid rgba(0,0,0,0.06)"},children:e.jsxs(t,{textAlign:"center",py:4,children:[e.jsx(A,{sx:{width:60,height:60,mx:"auto",mb:2,background:"linear-gradient(45deg, #667eea, #764ba2)",boxShadow:"0 6px 20px rgba(102,126,234,0.3)"},children:e.jsx(E,{sx:{fontSize:30,color:"white"}})}),e.jsx(r,{variant:"h5",gutterBottom:!0,sx:{fontWeight:700,background:"linear-gradient(45deg, #667eea, #764ba2)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"No courses purchased yet"}),e.jsx(r,{variant:"body1",color:"text.secondary",sx:{mb:3,fontWeight:400},children:"Start your learning journey by exploring our courses"}),e.jsx(d,{variant:"contained",size:"large",onClick:()=>G("/upSkills"),sx:{background:"linear-gradient(45deg, #667eea, #764ba2)",boxShadow:"0 6px 20px rgba(102,126,234,0.4)",px:4,py:1.5,fontWeight:600,borderRadius:3,"&:hover":{boxShadow:"0 8px 25px rgba(102,126,234,0.5)",transform:"translateY(-2px)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textTransform:"none"},children:"Browse Courses"})]})}):e.jsx(a,{container:!0,spacing:2,children:f.map((s,l)=>e.jsx(a,{item:!0,xs:12,children:e.jsx(ee,{in:!0,timeout:500+l*100,children:e.jsx(u,{sx:{borderRadius:3,overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(0,0,0,0.06)",background:"linear-gradient(145deg, #ffffff 0%, #fafbfc 100%)",position:"relative",minHeight:"200px","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 25px rgba(0,0,0,0.12)","& .course-image":{transform:"scale(1.03)"}}},children:e.jsxs(a,{container:!0,sx:{height:"100%",alignItems:"stretch"},children:[e.jsx(a,{item:!0,xs:12,md:6,sx:{display:"flex"},children:e.jsxs(t,{sx:{position:"relative",width:"100%",height:"100%",minHeight:"200px",overflow:"hidden",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:[s.videoUrl?e.jsx(t,{className:"course-image",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:"transform 0.4s ease"},children:e.jsx(U,{videoUrl:s.videoUrl,title:`Course Preview: ${s.courseName}`,style:{width:"100%",height:"100%",border:"none"}})}):e.jsx(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"white",position:"relative"},children:e.jsx(t,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:100,height:100,borderRadius:"50%",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"2px solid rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(te,{sx:{fontSize:50,opacity:.9}})})}),e.jsx(t,{sx:{position:"absolute",top:20,right:20,background:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",borderRadius:3,px:2,py:1},children:e.jsx(P,{icon:e.jsx(de,{}),label:s.orderDetails.paymentStatus,color:k(s.orderDetails.paymentStatus),size:"small",sx:{fontWeight:600,fontSize:"0.75rem"}})})]})}),e.jsx(a,{item:!0,xs:12,md:6,sx:{display:"flex"},children:e.jsxs(C,{sx:{p:2.5,height:"100%",display:"flex",flexDirection:"column",width:"100%"},children:[e.jsxs(t,{sx:{mb:2},children:[e.jsx(r,{variant:"h5",sx:{fontWeight:700,color:"text.primary",lineHeight:1.3,mb:1.5,fontSize:{xs:"1.1rem",md:"1.3rem"}},children:s.courseName}),e.jsx(r,{variant:"body2",sx:{color:"text.secondary",lineHeight:1.5,mb:2,fontSize:"0.9rem"},children:s.description})]}),e.jsx(t,{sx:{mb:2},children:e.jsxs(v,{direction:"row",spacing:1.5,sx:{mb:1.5,flexWrap:"wrap"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.3,background:"linear-gradient(45deg, #ffd700, #ffed4e)",borderRadius:1.5,px:1.5,py:.5,boxShadow:"0 1px 4px rgba(255,215,0,0.2)"},children:[e.jsx(ce,{sx:{fontSize:14,color:"#ff6b35"}}),e.jsx(r,{variant:"caption",sx:{fontWeight:600,color:"#333",fontSize:"0.75rem"},children:"4.8"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.3,background:"linear-gradient(45deg, #667eea, #764ba2)",borderRadius:1.5,px:1.5,py:.5,boxShadow:"0 1px 4px rgba(102,126,234,0.2)"},children:[e.jsx(se,{sx:{fontSize:14,color:"white"}}),e.jsx(r,{variant:"caption",sx:{fontWeight:600,color:"white",fontSize:"0.75rem"},children:"8 Hours"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.3,background:"linear-gradient(45deg, #4caf50, #8bc34a)",borderRadius:1.5,px:1.5,py:.5,boxShadow:"0 1px 4px rgba(76,175,80,0.2)"},children:[e.jsx(oe,{sx:{fontSize:14,color:"white"}}),e.jsx(r,{variant:"caption",sx:{fontWeight:600,color:"white",fontSize:"0.75rem"},children:"1.2k Students"})]})]})}),e.jsx(t,{sx:{mb:2},children:e.jsxs(v,{direction:"row",spacing:2,sx:{mb:1.5},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5,background:"linear-gradient(45deg, #4caf50, #8bc34a)",borderRadius:1.5,px:1.5,py:.5,boxShadow:"0 1px 4px rgba(76,175,80,0.2)"},children:[e.jsx(re,{size:14,color:"white"}),e.jsxs(r,{variant:"caption",sx:{fontWeight:600,color:"white",fontSize:"0.75rem"},children:["₹",s.orderDetails.amountPaid]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5,background:"linear-gradient(45deg, #667eea, #764ba2)",borderRadius:1.5,px:1.5,py:.5,boxShadow:"0 1px 4px rgba(102,126,234,0.2)"},children:[e.jsx(xe,{size:14,color:"white"}),e.jsx(r,{variant:"caption",sx:{fontWeight:600,color:"white",fontSize:"0.75rem"},children:I(s.purchaseDate)})]})]})}),e.jsxs(t,{sx:{display:"flex",gap:1.5,mt:"auto"},children:[e.jsxs(d,{variant:"contained",size:"medium",sx:{flex:1,py:1.5,fontWeight:600,borderRadius:2,fontSize:"0.9rem",background:"linear-gradient(45deg, #667eea, #764ba2)",boxShadow:"0 3px 12px rgba(102,126,234,0.3)","&:hover":{boxShadow:"0 5px 15px rgba(102,126,234,0.4)",transform:"translateY(-2px)",background:"linear-gradient(45deg, #5a6fd8, #6a4190)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textTransform:"none"},onClick:()=>$(s),children:[e.jsx(he,{size:16,style:{marginRight:"6px"}}),"Start Course"]}),e.jsxs(d,{variant:"outlined",size:"medium",sx:{px:2,py:1.5,fontWeight:600,borderRadius:2,borderColor:"#667eea",color:"#667eea",borderWidth:1.5,fontSize:"0.9rem","&:hover":{borderColor:"#667eea",background:"rgba(102,126,234,0.1)",transform:"translateY(-2px)",borderWidth:1.5},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textTransform:"none"},onClick:()=>J(s),children:[e.jsx(ge,{size:16,style:{marginRight:"6px"}}),"View Details"]})]})]})})]})})})},s.courseId))})}),e.jsxs(T,{open:c.open,onClose:()=>j({open:!1,videoUrl:"",title:""}),maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{backgroundColor:"#000",color:"#fff"}},children:[e.jsx(F,{sx:{color:"#fff",borderBottom:"1px solid #333"},children:c.title}),e.jsx(O,{sx:{padding:0,backgroundColor:"#000"},children:c.videoUrl&&e.jsx(t,{sx:{width:"100%",height:"60vh"},children:e.jsx(U,{videoUrl:c.videoUrl,title:c.title,style:{width:"100%",height:"100%"}})})}),e.jsx(M,{sx:{backgroundColor:"#000",borderTop:"1px solid #333"},children:e.jsx(d,{onClick:()=>j({open:!1,videoUrl:"",title:""}),sx:{color:"#fff"},children:"Close"})})]}),e.jsxs(T,{open:o.open,onClose:()=>x({open:!1,order:null,loading:!1}),maxWidth:"md",fullWidth:!0,children:[e.jsxs(F,{children:["Order Details - ",o.order?`Order #${o.order.orderId}`:"Loading..."]}),e.jsx(O,{children:o.loading?e.jsxs(t,{display:"flex",justifyContent:"center",alignItems:"center",py:4,children:[e.jsx(N,{}),e.jsx(r,{variant:"body1",sx:{ml:2},children:"Loading order details..."})]}):o.order?e.jsxs(t,{sx:{mt:2},children:[e.jsx(u,{sx:{mb:3,border:"1px solid #e0e0e0"},children:e.jsxs(C,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"#00afb5"},children:"Order Information"}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Order ID:"})}),e.jsx(r,{variant:"body1",sx:{mb:1},children:o.order.orderId})]}),e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Payment Status:"})}),e.jsx(t,{sx:{mb:1},children:e.jsx(P,{label:o.order.paymentStatus,color:k(o.order.paymentStatus),size:"small"})})]}),e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Amount Paid:"})}),e.jsxs(r,{variant:"body1",sx:{mb:1,fontWeight:"bold",color:"#00afb5"},children:["₹",o.order.amountPaid]})]}),e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Payment Gateway:"})}),e.jsx(r,{variant:"body1",sx:{mb:1},children:o.order.paymentGateway})]}),e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Transaction ID:"})}),e.jsx(r,{variant:"body1",sx:{mb:1,fontFamily:"monospace"},children:o.order.transactionId||"N/A"})]}),e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Order Date:"})}),e.jsx(r,{variant:"body1",sx:{mb:1},children:I(o.order.createdAt)})]})]})]})}),o.order.course&&e.jsx(u,{sx:{border:"1px solid #e0e0e0"},children:e.jsxs(C,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"#00afb5"},children:"Course Information"}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsxs(a,{item:!0,xs:12,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Course Name:"})}),e.jsx(r,{variant:"body1",sx:{mb:1,fontWeight:"bold"},children:o.order.course.courseName})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Course Description:"})}),e.jsx(r,{variant:"body1",sx:{mb:1},children:o.order.course.description||"No description available"})]}),e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Course ID:"})}),e.jsx(r,{variant:"body1",sx:{mb:1},children:o.order.course.courseId})]}),e.jsxs(a,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"Course Price:"})}),e.jsxs(r,{variant:"body1",sx:{mb:1,fontWeight:"bold",color:"#00afb5"},children:["₹",o.order.course.sellingPrice]})]})]})]})})]}):e.jsx(t,{textAlign:"center",py:4,children:e.jsx(r,{variant:"body1",color:"text.secondary",children:"No order details found."})})}),e.jsx(M,{children:e.jsx(d,{onClick:()=>x({open:!1,order:null,loading:!1}),variant:"contained",sx:{backgroundColor:"#00afb5"},children:"Close"})})]}),e.jsx(ae,{open:h.open,autoHideDuration:6e3,onClose:()=>g({...h,open:!1}),anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(B,{onClose:()=>g({...h,open:!1}),severity:h.severity,sx:{width:"100%"},children:h.message})}),e.jsx("style",{jsx:!0,children:`
                @keyframes float {
                    0%, 100% { transform: translateY(0px); }
                    50% { transform: translateY(-10px); }
                }
                @keyframes pulse {
                    0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
                    50% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
                }
            `})]})};export{ze as default};
