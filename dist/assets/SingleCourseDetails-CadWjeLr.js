import{A as p,r as n,a2 as G,U as J,u as Z,C as O,j as e,B as t,V as F,W as Q,d as X,T as r,Y as k,E as l,Z as h,G as d,L as N,J as q}from"./index-So8Y0uMi.js";import{f as K,b as _,c as ee}from"./UpskillsCategoryApi-rKE8Ju7y.js";import{A as I}from"./Alert-BEz85bAA.js";import{I as re}from"./IconClock-CFaAAo0_.js";import{C as te}from"./CheckCircle-Bt0pafdu.js";import{P as ae}from"./Pagination-fDdQfB37.js";import"./LastPage-C7laYLYy.js";var ie=p("arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]),S=p("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),oe=p("star","IconStar",[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",key:"svg-0"}]]),se=p("users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);const pe=()=>{const[o,C]=n.useState({}),[R,W]=n.useState([]),[c,Y]=n.useState({}),[z,u]=n.useState(null),[M,A]=n.useState(null),[B,b]=n.useState(null),D=G(),L=J(),{courseId:f,isPaid:x}=D.state||{},[m,P]=n.useState(1),j=5,[i,E]=n.useState(null),y={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken},H=Z();O(H.breakpoints.down("sm"));const U=(a,s)=>{P(s)},V=async()=>{var a;try{const s=await K(y,f);s.data?(C(s.data),b(null)):(C({}),b("Course data not found."));const g=await _(y,f);if(g.data.length>0){W(g.data),u(null),E((a=g.data[0])==null?void 0:a.moduleId);const v={};for(const w of g.data){const T=await ee(y,w.moduleId);T.data.length>0?v[w.moduleId]=T.data:(v[w.moduleId]=[],A("No topics found for this module."))}Y(v)}else W([]),u("No modules found for this course.")}catch(s){console.error("Error fetching data:",s),b("Failed to fetch course data."),u("Failed to fetch modules."),A("Failed to fetch topics.")}},$=a=>{E(a),P(1)};return n.useEffect(()=>{f&&V()},[f]),e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
          @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
          }
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
          }
        `}),e.jsx(t,{sx:{position:"relative",minHeight:"300px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
              radial-gradient(circle at 20% 80%, rgba(102, 126, 234, 0.3) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.3) 0%, transparent 50%),
              radial-gradient(circle at 40% 40%, rgba(240, 147, 251, 0.2) 0%, transparent 50%)
            `,animation:"float 20s ease-in-out infinite"}},children:e.jsx(F,{maxWidth:"lg",sx:{position:"relative",zIndex:2,height:"300px",display:"flex",alignItems:"center"},children:e.jsx(Q,{in:!0,timeout:1200,children:e.jsxs(t,{sx:{width:"100%"},children:[e.jsx(X,{startIcon:e.jsx(ie,{size:20}),onClick:()=>L(-1),sx:{mb:3,color:"white",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:2,px:2,py:1,"&:hover":{background:"rgba(255,255,255,0.2)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:"Back to Courses"}),e.jsxs(t,{sx:{textAlign:"center",color:"white"},children:[e.jsx(r,{variant:"h2",sx:{fontWeight:800,mb:2,fontSize:{xs:"1.8rem",md:"2.5rem"},background:"linear-gradient(45deg, #ffffff, #f0f8ff, #ffffff)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 4px 8px rgba(0,0,0,0.1)",letterSpacing:"-0.02em"},children:o.courseName||"Course Details"}),e.jsx(r,{variant:"h6",sx:{opacity:.95,fontWeight:400,maxWidth:"600px",mx:"auto",mb:3,fontSize:{xs:"1rem",md:"1.2rem"},lineHeight:1.6},children:o.description||"Explore this comprehensive course"}),e.jsxs(k,{direction:{xs:"column",sm:"row"},spacing:4,justifyContent:"center",sx:{mt:3},children:[e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"#ffd700"},children:"4.8"}),e.jsx(r,{variant:"body2",sx:{opacity:.8},children:"Rating"})]}),e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"#00d4aa"},children:R.length}),e.jsx(r,{variant:"body2",sx:{opacity:.8},children:"Modules"})]}),e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"#ff6b9d"},children:i&&c[i]?c[i].length:0}),e.jsx(r,{variant:"body2",sx:{opacity:.8},children:"Topics"})]})]})]})]})})})}),e.jsxs(F,{maxWidth:"lg",sx:{py:4},children:[B?e.jsx(l,{sx:{mt:2,p:3,borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:e.jsx(I,{severity:"error",children:B})}):e.jsx(h,{in:!0,timeout:800,children:e.jsx(l,{sx:{mt:2,borderRadius:4,overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",background:"linear-gradient(145deg, #ffffff 0%, #fafbfc 100%)",border:"1px solid rgba(0,0,0,0.06)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-8px)",boxShadow:"0 20px 60px rgba(0,0,0,0.15)"}},children:e.jsxs(d,{container:!0,sx:{height:"100%",alignItems:"stretch"},children:[e.jsx(d,{item:!0,xs:12,md:6,sx:{display:"flex"},children:e.jsx(t,{sx:{width:"100%",p:3,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",minHeight:"400px"},children:x?e.jsx("iframe",{title:"YouTube Video",src:`https://www.youtube.com/embed/${o.videoUrl}`,frameBorder:"0",allowFullScreen:!0,style:{width:"100%",height:"100%",borderRadius:"16px",aspectRatio:"16/9",objectFit:"cover"}}):e.jsx(t,{sx:{width:"100%",aspectRatio:"16/9",borderRadius:"16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
                              radial-gradient(circle at 20% 80%, rgba(102, 126, 234, 0.3) 0%, transparent 50%),
                              radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.3) 0%, transparent 50%),
                              radial-gradient(circle at 40% 40%, rgba(240, 147, 251, 0.2) 0%, transparent 50%)
                            `,animation:"float 20s ease-in-out infinite"}},children:e.jsxs(t,{sx:{position:"relative",zIndex:2,textAlign:"center",color:"white"},children:[e.jsx(S,{size:80,style:{marginBottom:"20px",opacity:.8}}),e.jsx(r,{variant:"h4",sx:{fontWeight:700,mb:2,fontSize:{xs:"1.5rem",md:"2rem"}},children:"Course Locked"}),e.jsx(r,{variant:"h6",sx:{opacity:.9,mb:3,fontSize:{xs:"1rem",md:"1.2rem"}},children:"Purchase this course to access video content"}),e.jsx(N,{label:"Premium Content",sx:{background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",backdropFilter:"blur(10px)",fontWeight:600,fontSize:"1rem",px:3,py:1}})]})})})}),e.jsx(d,{item:!0,xs:12,md:6,sx:{display:"flex"},children:e.jsxs(t,{sx:{width:"100%",p:4,display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx(r,{variant:"h3",sx:{fontWeight:800,color:"#333",mb:2,fontSize:{xs:"1.8rem",md:"2.2rem"}},children:o.courseName}),e.jsx(r,{variant:"h6",sx:{color:"#666",mb:3,lineHeight:1.6,fontSize:{xs:"1rem",md:"1.1rem"}},children:o.description}),e.jsxs(k,{direction:"row",spacing:2,sx:{mb:3,flexWrap:"wrap"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5,background:"linear-gradient(45deg, #ffd700, #ffed4e)",borderRadius:2,px:2,py:1,boxShadow:"0 2px 8px rgba(255,215,0,0.2)"},children:[e.jsx(oe,{size:16,color:"#ff6b35"}),e.jsx(r,{variant:"body2",sx:{fontWeight:600,color:"#333"},children:"4.8 Rating"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5,background:"linear-gradient(45deg, #667eea, #764ba2)",borderRadius:2,px:2,py:1,boxShadow:"0 2px 8px rgba(102,126,234,0.2)"},children:[e.jsx(re,{size:16,color:"white"}),e.jsx(r,{variant:"body2",sx:{fontWeight:600,color:"white"},children:"8 Hours"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5,background:"linear-gradient(45deg, #4caf50, #8bc34a)",borderRadius:2,px:2,py:1,boxShadow:"0 2px 8px rgba(76,175,80,0.2)"},children:[e.jsx(se,{size:16,color:"white"}),e.jsx(r,{variant:"body2",sx:{fontWeight:600,color:"white"},children:"1.2k Students"})]})]}),e.jsxs(t,{sx:{mt:3,p:3,borderRadius:3,background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",border:"1px solid rgba(0,0,0,0.08)"},children:[e.jsxs(k,{direction:"row",spacing:2,sx:{mb:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,background:"linear-gradient(45deg, #4caf50, #8bc34a)",borderRadius:2,px:2,py:1,boxShadow:"0 2px 8px rgba(76,175,80,0.2)"},children:[e.jsx(q,{size:16,color:"white"}),e.jsxs(r,{variant:"h5",sx:{fontWeight:700,color:"white"},children:["₹",o.sellingPrice]})]}),e.jsx(t,{sx:{display:"flex",alignItems:"center",gap:1,background:"linear-gradient(45deg, #ff6b6b, #ff8e8e)",borderRadius:2,px:2,py:1,boxShadow:"0 2px 8px rgba(255,107,107,0.2)"},children:e.jsxs(r,{variant:"body2",sx:{fontWeight:600,color:"white",textDecoration:"line-through"},children:["₹",o.courseMrp]})})]}),e.jsxs(r,{variant:"h6",sx:{color:"#4caf50",fontWeight:700},children:["You Save: ₹",o.courseMrp-o.sellingPrice," (",o.discount,"% off)"]})]})]})})]})})}),e.jsx(h,{in:!0,timeout:1e3,children:e.jsx(l,{sx:{mt:3,borderRadius:4,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",background:"linear-gradient(145deg, #ffffff 0%, #fafbfc 100%)",border:"1px solid rgba(0,0,0,0.06)"},children:e.jsxs(t,{sx:{p:3},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,mb:3,color:"#333",textAlign:"center"},children:"Course Modules"}),z?e.jsx(I,{severity:"error",children:z}):e.jsx(t,{sx:{display:"flex",overflowX:"auto",gap:2,pb:1,"&::-webkit-scrollbar":{height:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#667eea",borderRadius:"10px"},"&::-webkit-scrollbar-track":{backgroundColor:"#f5f5f5",borderRadius:"10px"}},children:R.map((a,s)=>e.jsx(h,{in:!0,timeout:1200+s*100,children:e.jsx(l,{onClick:()=>$(a.moduleId),sx:{cursor:"pointer",borderRadius:3,background:i===a.moduleId?"linear-gradient(45deg, #667eea, #764ba2)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:i===a.moduleId?"white":"#333",border:i===a.moduleId?"2px solid #667eea":"1px solid rgba(0,0,0,0.1)",boxShadow:i===a.moduleId?"0 8px 25px rgba(102,126,234,0.3)":"0 2px 10px rgba(0,0,0,0.08)","&:hover":{transform:"translateY(-4px)",boxShadow:i===a.moduleId?"0 12px 35px rgba(102,126,234,0.4)":"0 8px 25px rgba(0,0,0,0.15)",background:i===a.moduleId?"linear-gradient(45deg, #5a6fd8, #6a4190)":"linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%)"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",padding:"16px 24px",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"60px",minWidth:"180px",flexShrink:0},children:e.jsx(r,{variant:"h6",sx:{fontWeight:600,textAlign:"center",transition:"color 0.3s ease",fontSize:{xs:"0.9rem",md:"1rem"}},children:a.moduleName})})},a.moduleId))})]})})}),e.jsx(h,{in:!0,timeout:1400,children:e.jsx(l,{sx:{mt:3,borderRadius:4,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",background:"linear-gradient(145deg, #ffffff 0%, #fafbfc 100%)",border:"1px solid rgba(0,0,0,0.06)"},children:e.jsxs(t,{sx:{p:3},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,mb:3,color:"#333",textAlign:"center"},children:"Course Topics"}),M?e.jsx(I,{severity:"error",children:M}):i&&c[i]?e.jsxs(d,{container:!0,spacing:3,children:[c[i].slice((m-1)*j,m*j).map((a,s)=>e.jsx(d,{item:!0,xs:12,children:e.jsx(h,{in:!0,timeout:1600+s*100,children:e.jsx(l,{sx:{borderRadius:3,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",background:"linear-gradient(145deg, #ffffff 0%, #fafbfc 100%)",border:"1px solid rgba(0,0,0,0.06)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-8px)",boxShadow:"0 20px 60px rgba(0,0,0,0.15)"}},children:e.jsxs(d,{container:!0,sx:{height:"100%",alignItems:"stretch"},children:[e.jsx(d,{item:!0,xs:12,sm:4,sx:{display:"flex"},children:e.jsx(t,{sx:{width:"100%",p:2,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",minHeight:"200px"},children:a.videoUrl&&x?e.jsx("iframe",{title:`YouTube Video for ${a.topicName}`,src:`https://www.youtube.com/embed/${a.videoUrl}`,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,style:{width:"100%",height:"100%",borderRadius:"12px",aspectRatio:"16/9"}}):a.videoUrl?e.jsx(t,{sx:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
                                          radial-gradient(circle at 20% 80%, rgba(102, 126, 234, 0.3) 0%, transparent 50%),
                                          radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.3) 0%, transparent 50%),
                                          radial-gradient(circle at 40% 40%, rgba(240, 147, 251, 0.2) 0%, transparent 50%)
                                        `,animation:"float 20s ease-in-out infinite"}},children:e.jsxs(t,{sx:{position:"relative",zIndex:2,textAlign:"center",color:"white"},children:[e.jsx(S,{size:40,style:{marginBottom:"12px",opacity:.8}}),e.jsx(r,{variant:"body1",sx:{fontWeight:600,fontSize:"0.9rem",opacity:.9},children:"Locked"})]})}):e.jsx(t,{sx:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",background:"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)",display:"flex",justifyContent:"center",alignItems:"center",border:"2px dashed #ccc"},children:e.jsx(r,{variant:"body1",sx:{color:"#666",fontWeight:500},children:"No Video"})})})}),e.jsx(d,{item:!0,xs:12,sm:8,sx:{display:"flex"},children:e.jsxs(t,{sx:{width:"100%",p:3,display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,color:"#333",mb:2,fontSize:{xs:"1.3rem",md:"1.5rem"}},children:a.topicName}),e.jsx(r,{variant:"body1",sx:{color:"#666",lineHeight:1.6,fontSize:{xs:"0.9rem",md:"1rem"}},children:a.description}),e.jsx(t,{sx:{mt:2},children:e.jsx(N,{icon:x?e.jsx(te,{}):e.jsx(S,{size:16}),label:x?"Available":"Locked",sx:{background:x?"linear-gradient(45deg, #4caf50, #8bc34a)":"linear-gradient(45deg, #ff6b6b, #ff8e8e)",color:"white",fontWeight:600,boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}})})]})})]})})})},a.topicId)),e.jsx(d,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",mt:3},children:e.jsx(ae,{count:Math.ceil(c[i].length/j),page:m,onChange:U,color:"primary",variant:"outlined",shape:"rounded",sx:{"& .MuiPaginationItem-root":{borderRadius:2,fontWeight:600}}})})]}):e.jsxs(t,{sx:{textAlign:"center",py:4},children:[e.jsx(r,{variant:"h6",sx:{color:"#666",mb:2},children:"No topics found for the selected module."}),e.jsx(r,{variant:"body2",sx:{color:"#999"},children:"Please select a different module to view topics."})]})]})})})]})]})};export{pe as default};
